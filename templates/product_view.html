{% extends "base.html" %}

{% block title %}{{ product.name }} - Product Detail{% endblock %}

{% block content %}
<input id="product_id" value="{{product.id}}" readonly hidden>
<div class="container my-5" style="padding-top: 5rem">
    <svg xmlns="http://www.w3.org/2000/svg" height="14" width="10.5" viewBox="0 0 384 512">
        <path d="M3.4 81.7c-7.9 15.8-1.5 35 14.3 42.9L280.5 256 17.7 387.4C1.9 395.3-4.5 414.5 3.4 430.3s27.1 22.2 42.9 14.3l320-160c10.8-5.4 17.7-16.5 17.7-28.6s-6.8-23.2-17.7-28.6l-320-160c-15.8-7.9-35-1.5-42.9 14.3z"/>
    </svg> 
    <a href="/" class="text-muted px-2">Back</a>

    <div class="row mt-4">
        <!-- Product Image -->
        <div class="col-md-6 text-center d-flex align-items-center justify-content-center">
            <div style="width: 400px; height: 400px; overflow: hidden; border-radius: 0.75rem; box-shadow: 0 0 10px rgba(0,0,0,0.1);">
                <img src="{{ product.image }}" alt="{{ product.name }}" 
                     style="width: 100%; height: 100%; object-fit: cover;">
            </div>
        </div>

        <!-- Product Details -->
        <div class="col-md-6">
            <h2 class="fw-bold mb-3">{{ product.name }}</h2>
            <p class="text-muted">{{ product.description }}</p>

            <h4 class="text-success">${{ product.price }}</h4>
            <p class="mb-1"><strong>Unit:</strong> {{ product.unit }}</p>
            <p><strong>Stock Level:</strong> {{ product.stock_level }}</p>

            <button class="btn btn-dark mt-3" id="add_to_cart">
                <i class="bi bi-cart-plus"></i> Add to Cart
            </button>
            <div id="cart_options" class="mt-3" hidden>
                
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                <div class="d-flex justify-content-center align-items-center gap-2">
                  <button id="minus_button" class="btn btn-outline-secondary btn-sm">-</button>
                  <input type="number" min="0" id="cart_product_quantity" class="form-control form-control-sm text-center" style="width: 70px;">
                  <button id="plus_button" class="btn btn-outline-secondary btn-sm">+</button>
                  <button id="confirm_cart" class="btn btn-success btn-sm">Confirm</button>
                </div>
              </div>

            <hr class="my-4">

            <h5>Specifications</h5>
            <ul class="list-unstyled">
                <li><strong>Dimensions:</strong> {{ product.dimensions }}</li>
                <li><strong>Weight:</strong> {{ product.weight }}</li>
            </ul>
        </div>
    </div>
</div>
<script type="text/javascript" src="static/product_view.js"></script>
{% endblock %}
